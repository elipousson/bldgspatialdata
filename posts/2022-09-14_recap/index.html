<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.267">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Eli Pousson">
<meta name="dcterms.date" content="2022-09-18">

<title>Building Spatial Datasets - September 14: Recap &amp; Next Steps</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<link href="../../site_libs/quarto-contrib/fontawesome6-0.1.0/all.css" rel="stylesheet">
<link href="../../site_libs/quarto-contrib/fontawesome6-0.1.0/latex-fontsize.css" rel="stylesheet">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>


<link rel="stylesheet" href="../../styles.css">
<meta property="og:title" content="Building Spatial Datasets - September 14: Recap &amp; Next Steps">
<meta property="og:description" content="Next week, we’re going to start with QGIS so I can demonstrate the basic features for working with attributes, explain how QGIS expressions work, and demonstrate the print layout tools you’ll need…">
<meta property="og:image" content="https://elipousson.github.io/bldgspatialdata/files/img/ges600-logo.png">
<meta property="og:site-name" content="Building Spatial Datasets">
<meta property="og:locale" content="en_US">
<meta property="og:image:height" content="1254">
<meta property="og:image:width" content="1180">
<meta name="twitter:title" content="Building Spatial Datasets - September 14: Recap &amp; Next Steps">
<meta name="twitter:description" content="Next week, we’re going to start with QGIS so I can demonstrate the basic features for working with attributes, explain how QGIS expressions work, and demonstrate the print layout tools you’ll need…">
<meta name="twitter:image" content="https://elipousson.github.io/bldgspatialdata/files/img/ges600-logo.png">
<meta name="twitter:creator" content="\@elipousson">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image-height" content="1254">
<meta name="twitter:image-width" content="1180">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">Building Spatial Datasets</span>
    </a>
  </div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../index.html">
 <span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../syllabus.html">
 <span class="menu-text">Syllabus</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../schedule.html">
 <span class="menu-text">Schedule</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../assignments/index.html">
 <span class="menu-text">Assignments</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../materials.html">
 <span class="menu-text">Materials</span></a>
  </li>  
</ul>
              <div id="quarto-search" class="" title="Search"></div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#what-did-we-do-for-session-3" id="toc-what-did-we-do-for-session-3" class="nav-link active" data-scroll-target="#what-did-we-do-for-session-3">What did we do for Session 3</a>
  <ul class="collapse">
  <li><a href="#questions-and-answers" id="toc-questions-and-answers" class="nav-link" data-scroll-target="#questions-and-answers">Questions and answers</a></li>
  <li><a href="#topics" id="toc-topics" class="nav-link" data-scroll-target="#topics">Topics</a></li>
  <li><a href="#miscellaneous-extras" id="toc-miscellaneous-extras" class="nav-link" data-scroll-target="#miscellaneous-extras">Miscellaneous extras</a></li>
  <li><a href="#next-steps" id="toc-next-steps" class="nav-link" data-scroll-target="#next-steps">Next steps</a></li>
  </ul></li>
  <li><a href="#what-to-expect-for-session-4" id="toc-what-to-expect-for-session-4" class="nav-link" data-scroll-target="#what-to-expect-for-session-4">What to expect for Session 4</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">September 14: Recap &amp; Next Steps</h1>
  <div class="quarto-categories">
    <div class="quarto-category">recap</div>
  </div>
  </div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Eli Pousson </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">September 18, 2022</p>
    </div>
  </div>
  
    
  </div>
  

</header>

<section id="what-did-we-do-for-session-3" class="level2">
<h2 class="anchored" data-anchor-id="what-did-we-do-for-session-3">What did we do for Session 3</h2>
<section id="questions-and-answers" class="level3">
<h3 class="anchored" data-anchor-id="questions-and-answers">Questions and answers</h3>
<p>We took some a good bit of time at the start of class this past week to go over questions from the daily logs. Feel free to share your questions to the Discord during the week as well as including them in your log. Here are a few of the questions we tackled this week:</p>
<ul>
<li><p><strong>How do I submit an assignment using GitHub?</strong> I’ve added an <a href="../../assignment/00_weekly_logs.html">assignment page for the weekly logs</a> that explains the process for committing changes to your course repository using the Git tab in RStudio and links to step-by-step instructions on how to do the same using GitHub Studio.</p></li>
<li><p><strong>What is the difference between sf, sfc, sfg?</strong> In short, a sf (simple feature) object is a data frame with both geometry and attributes, a sfc (simple feature column) object is a list that is used as the geometry column for an sf object, and a sfg (simple feature geometry) object is a single point, polygon, or other feature (representing the geometry of a single feature when it is part of a complete sf object). The <a href="https://r-spatial.github.io/sf/articles/sf1.html">introductory vignette for the {sf} package</a> includes a helpful explanation of the difference between sf, sfc, and sfg objects.</p></li>
<li><p><strong>How do you create inline code within a RMarkdown document? And what is online code useful for?</strong> You can use backticks around text starting with a lower-case “r” to create inline code within a R Markdown or Quarto document. This approach is handy for integrating variables into the text of a rendered document. Check out <a href="https://bookdown.org/yihui/rmarkdown-cookbook/r-code.html">The R Markdown Cookbook</a> for more inline code and code chunks.</p></li>
</ul>
</section>
<section id="topics" class="level3">
<h3 class="anchored" data-anchor-id="topics">Topics</h3>
<section id="attribute-data-with-r" class="level4">
<h4 class="anchored" data-anchor-id="attribute-data-with-r">Attribute data with R</h4>
<p>We spent the bulk of the session walking through the process of using base R and the dplyr package. The slides are available on <a href="https://elipousson.github.io/bldgspatialdata/slides/03_attribute-data.html#/title-slide">the course website</a>. You can also find them via the new Materials section I set up that includes slides, annotated examples, and resource pages. If you have any suggestions for changes or additions to the course material, please feel free to open an issue on <a href="https://github.com/elipousson/bldgspatialdata">the GitHub repository</a> for the course site.</p>
</section>
<section id="introduction-to-qgis" class="level4">
<h4 class="anchored" data-anchor-id="introduction-to-qgis">Introduction to QGIS</h4>
<p>We briefly discussed the early history of QGIS (drawn from this <a href="https://www.xyht.com/spatial-itgis/godfather-of-qgis/">brief interview with the founding QGIS developer, Gary Sherman</a>) and jumped into a quick demonstration of the basic features including:</p>
<ul>
<li><p>Importing data by dragging local files on the Map pane</p></li>
<li><p>Importing data using the <strong>Layer &gt; Add Layer &gt; Add Vector Layer</strong> and <strong>Add Delimited Text</strong> Layer options</p></li>
<li><p>Using the data browser pane to add local files to the Layers pane and reordering layers within the Layers pane</p></li>
<li><p>Installing the <a href="https://plugins.qgis.org/plugins/quick_map_services/">QuickMapServices plugin</a> and using it to add Google Maps as a basemap.</p></li>
<li><p>Using the <strong>Layer &gt; Save As</strong> menu option or <strong>Export &gt; Save Features As…</strong> option from the right-click context menu to export a layer as a GeoPackage file</p></li>
</ul>
<p>We also briefly looked at the the Natural Earth Quick Start Kit (available <a href="https://www.naturalearthdata.com/downloads/">via the Downloads page</a>) which offers a good demonstration of the varied layer styling and symbology options within QGiS.</p>
</section>
</section>
<section id="miscellaneous-extras" class="level3">
<h3 class="anchored" data-anchor-id="miscellaneous-extras">Miscellaneous extras</h3>
<ul>
<li>If you’re interested in data visualization beyond mapping, I recommend <a href="https://socviz.co/">Data Visualization: A practical introduction</a> by Kieran Healy. The book has <a href="https://github.com/kjhealy/socviz">an accompanying support package</a> packed full of examples.</li>
<li>During the break we talked about <a href="https://github.com/JoshOBrien/exiftoolr">{exiftoolr}</a>: a package for accessing <a href="https://exiftool.org/">ExifTool</a> (a Perl library for accessing EXIF metadata) including the coordinates attached to pictures you take with your phone. I recommended the <code>read_sf_exif()</code> function from my own <a href="https://elipousson.github.io/sfext/">{sfext}</a> package (that extends the sf package with a variety of additional features) for working with this data.</li>
<li>During the demonstration of mapping with {ggplot2} we talked briefly about color-blind safe palettes as one advantage in using a preset scale like the <code>scale_fill_brewer()</code> or <code>scale_fill_distiller()</code>. The palettes for those functions are both from ColorBrewer: a web tool for guidance in choosing choropleth map color schemes, based on the research of <a href="http://www.personal.psu.edu/cab38/">Dr.&nbsp;Cynthia Brewer</a>. In a follow-up chat on Discord, I recommended the <a href="https://github.com/mtennekes/cols4all">{cols4all}</a> R package and noted that <a href="https://www.gislounge.com/use-color-blind-preview-option-qgis/">QGIS also has a feature</a> allowing you to preview what a map looks like for a color-blind viewer.</li>
</ul>
</section>
<section id="next-steps" class="level3">
<h3 class="anchored" data-anchor-id="next-steps">Next steps</h3>
<p>The only assignment due this week is your weekly log. We’re taking a week off from All Data Are Local so you’d also be welcome to use your weekly log to reflect on any initial ideas for how you may be able to apply the approaches we are learning to your own research or practice.</p>
<p>The mapping with R and mapping with QGIS assignments are both due the following Wednesday, <strong>September 28</strong>. If there is interest, I can offer an “office hours” session late next week or early the week following to help trouble-shoot any challenges you may encounter.</p>
</section>
</section>
<section id="what-to-expect-for-session-4" class="level2">
<h2 class="anchored" data-anchor-id="what-to-expect-for-session-4">What to expect for Session 4</h2>
<p>Next week, we’re going to start with QGIS so I can demonstrate the basic features for working with attributes, explain how QGIS expressions work, and demonstrate the print layout tools you’ll need to use for the QGIS assignment.</p>
<p>We’ll then switch back to R and show off how to use the sf package for:</p>
<ul>
<li>geometry operations for buffering or simplifying features</li>
<li>geometric operations like union, intersection, and difference</li>
<li>and related functions including spatial joins and filters</li>
</ul>
<p>In addition to the assigned chapter from <span class="citation" data-cites="lovelaceGeocomputation2022">Lovelace, Nowosad, and Muenchow (<a href="#ref-lovelaceGeocomputation2022" role="doc-biblioref">2022</a>)</span>, some of these topics are also demonstrated in the <a href="https://r-spatial.github.io/sf/articles/sf3.html">{sf} vignette on manipulating simple feature geometries</a>.</p>



</section>

<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" role="doc-bibliography"><h2 class="anchored quarto-appendix-heading">References</h2><div id="refs" class="references csl-bib-body hanging-indent" role="doc-bibliography">
<div id="ref-lovelaceGeocomputation2022" class="csl-entry" role="doc-biblioentry">
Lovelace, Robin, Jakub Nowosad, and Jannes Muenchow. 2022. <em>Geocomputation with <span>R</span></em>. 2nd (WIP). <a href="https://geocompr.robinlovelace.net/">https://geocompr.robinlovelace.net/</a>.
</div>
</div></section></div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-right">Made with <i class="fa-brands fa-r-project" aria-hidden="true"></i> and <a href="https://quarto.org/">Quarto</a><br> <a href="https://www.github.com/elipousson/bldgspatialdata">View the source at <i class="fa-brands fa-github" aria-hidden="true"></i> GitHub</a></div>
  </div>
</footer>



</body></html>