{
  "hash": "2c186fb50ba2d3151e6367251dc688ce",
  "result": {
    "markdown": "---\ntitle: \"\"\neditor: visual\n---\n\n::: {.cell}\n\n```{.r .cell-code}\n# Load the tmap library and World data\nlibrary(tmap)\ndata(\"World\")\n# Transform World data to a Robinson projection https://epsg.io/53030\nWorld <- sf::st_transform(World, \"ESRI:53030\")\n```\n:::\n\n\n# Notes: OSullivan and Unwin 2002\n\n## What is spatial analysis?\n\nSpatial analysis broadly refers to four areas of practice: (pp. 2-3)\n\n-   Data manipulation: Can you collect, read, write, visualize, and transform the data?\n\n-   Data analysis: Can you describe the data? Can you find any big patterns in the data?\n\n    -   Descriptive\n\n    -   Exploratory\n\n-   Statistical analysis: Can the data be represented by a statistical model?\n\n-   Spatial modeling: Can we predict outcomes based on statistical models of spatial data?\n\nThis class is focused on the first two areas. Historically, it has been difficult to do more than the first two areas of work in a GIS application\n\n## What is spatial data?\n\n-   entity-attribute model\n\n    -   geometry\n\n        -   points, lines, areas\n\n    -   associated fields\n\n        -   nominal, ordinal, interval, or ratio data\n\n## What is an entity?\n\nFor most purposes, an entity is... (p. 8)\n\n-   Identifiable: can you observe or perceieve the entity?\n\n-   Relevant: do you have a reason to observe it?\n\n-   Describable: can you define and describe the attribute or characteristics of the entity?\n\n> Formally, an entity is defined as a phenomenon of interest in reality that is not further subdivided into phenomena of the same kind\n\n## How are geographical phenomena represented in GIS?\n\nSections 1.2 and 1.3\n\n## What are spatial transformations?\n\n-   Buffering\n\n-   Spatial joins or indexing\n\n    -   Point in polygon\n\n## How can we change how spatial data is represented?\n\n## Why is representation of spatial data complicated?\n\n-   multiple representations\n\n    -   different scales,\n\n    -   time\n\n-   objects\n\n    -   with uncertain boundaries,\n\n    -   that are fuzzy\n\n    -   may be fractal\n\n### What is a pattern?\n\n### What is a process?\n\n## What types of spatial data?\n\n### What is vector data?\n\nObject view (pp 6-7)\n\n-   World is made of entities in space\n\n    -   Entities are real but often subjective\n\n-   Objects\n\n    -   digital representation of an entity\n\n    -   come in different types, e.g. points, lines, areas\n\n    -   can be associated with behavior or characteristics---static or dynamic attributes\n\n### What is raster data?\n\nField view (p. 7)\n\n-   World is made up of properties varying across space\n\n-   Can be described with a grid of fields with values (e.g. 1 = 'house'; 0 = 'no house'); sets of values together define a field\n\nRaster data\n\n-   digital elevation matrix (DEM)\n\nequivalent to a triangulated irregular network (TIN) --- representation of a field using a vector model\n\n### When should you use vector (object) and when should you use raster?\n\n> You should now be able to see that the key question, from the present perspective, is not which picture of reality is correct but which we choose to adopt for the task at hand.\n\n...\n\nA common approach---reinvented any times---is based on the spatial dimensionality of the object concerned. Think about how many types of object you can draw.\n\nThe U. S. National Standard for Digital Cartographic Databases (DCDSTF, 1988) and Worboy's generic model for planar spatial objects (Worboys, 1992, 1995) both define a comprehensive typology of spatial objects in terms similar to these.\n\nAn Exercise: Objects and Fields Decoded (p. 9)\n\n1.  Obtain a topographic map at a scale of 1:50,000 or larger of your home area. Study the map, and for at least 10 of the types of entity the map represents---remember that the map is already a representation---list whether they would best be coded as an object or a field. If the entity is to be represented as an object, state whether it is a point, line, or area.\n\n2.  If you were asked to produce an initial specification for a data model that would enable a mapping agency to ''play back'' this map from a digital version held in a database, how many specific instances of objects (of all kinds) and fields would you need to record?\n\nHint: Use the map key. There is, of course, no single correct answer to this question.\n\n::: callout-note\nMultidimensional data\n\nThis class is primarily focused on objects with XY dimensions---not XYZ.\n:::\n\n::: callout-note\nData with spatial and temporal attributes\n\nSee stars package\n:::\n\nObjects are complex (p. 11)\n\nExample of how ArcGIS organizes data\n\n-   location\n-   features (made up of locations)\n-   surfaces (aka fields)\n-   images\n-   networks\n\nObjects depend on the scale of analysis aka the Multiple representation\n\nMultiple representation problem: (p. 11-12) \\> \"consequence is to make it impera tive that in designing a geographic information database and populating it with objects of interest, it is vital that the type of representation chosen will allow the intended analyses to be carried out.\"\n\n\"some entities are fractals, having the same or similar level of detail no matter how closely we zoom in.\" (p. 13) \\> Fractals are difficult to represent digitally unless we accept that the representation is only a snapshot at a particular resolution. The classic example is a linear feature such as a coastline whose ''crinkliness'' remains the same no matter how closely we examine it.\n\nCertainty and uncertainty\n\n## Attributes use different levels of measurement, scales, and units\n\n> Formally, an attribute is any characteristic of an entity selected for representation. In this section, we explore a simple way of classifying attributes into types based on their level of measurement. The level of measurement is often a constraint on the choice of method of analysis and, ultimately, on the inferences that can be drawn from a study of that attribute's spatial structure. (p. 18)\n\n> When information is collected, measurement is the process of assigning a class or value to an observed phenomenon according to some set rules. (p. 18) ... If this everyday process is to yield useful measurements, it is necessary to insist that measurements are made using a definable process, giving reproducible outcomes that are as valid as possible. (p. 19) ... In short, we need to know what we are measuring, there must be a predefined scale on which we can place phenomena, and we must use a consistent set of rules to control this placement.\n\nLevel of measurement ... \"rules defining the assignment of a name, rank, or number to phenomena\" --- \"different levels being associated with different rules\" Stevens (1946) classification four levels:\n\n-   nominal, (categorical)\n-   ordinal, (categorical)\n-   interval, (numerical)\n-   and ratio (numerical)\n\nnominal - inclusive and mutually exclusive - can be counted for frequency distributions - can be located for operations on coordinates (e.g. area, distance)\n\nordinal - possible to rank in order - each category is different but the scale of difference is unknown - \"some statistical manipulations that do not assume regular differences are possible\"\n\ninterval - \"differences or distances between categories are defined using fixed equal units\"\n\n+-------------+--------------+----------------------------------+----------+----------+---------------------------+\n| Category    | Level        | Definition                       | Can do   | Can't do | Atomic type               |\n+=============+==============+==================================+==========+==========+===========================+\n| Categorical | nominal      |                                  |          |          | character                 |\n+-------------+--------------+----------------------------------+----------+----------+---------------------------+\n| Categorical | ordinal      |                                  |          |          | factor                    |\n+-------------+--------------+----------------------------------+----------+----------+---------------------------+\n| Numeric     | interval     |                                  |          |          | numeric (double, integer) |\n+-------------+--------------+----------------------------------+----------+----------+---------------------------+\n| Numeric     | ratio        |                                  |          |          | numeric (double)          |\n+-------------+--------------+----------------------------------+----------+----------+---------------------------+\n|             | log interval | interval between measures rises\\ |          |          |                           |\n|             |              | according to a power rule        |          |          |                           |\n+-------------+--------------+----------------------------------+----------+----------+---------------------------+\n|             | vector       | cyclical scales                  |          |          |                           |\n+-------------+--------------+----------------------------------+----------+----------+---------------------------+\n\n\n::: {.cell}\n\n```{.r .cell-code}\nqtm(\n  shp = World,\n  fill = \"continent\",\n  borders = NULL,\n  projection = \"ESRI:53030\"\n)\n```\n\n::: {.cell-output-display}\n![](02_accessing-data_files/figure-html/nominal_scale-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n# ordinal measure converted from ratio\nqtm(\n  World,\n  fill = \"income_grp\"\n)\n```\n\n::: {.cell-output-display}\n![](02_accessing-data_files/figure-html/ordinal_scale-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n# ratio measure with dimensions\nqtm(\n  World,\n  fill = \"pop_est_dens\"\n)\n```\n\n::: {.cell-output-display}\n![](02_accessing-data_files/figure-html/unnamed-chunk-1-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nkm <- units::as_units(1, \"km\")\n\nkm\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n1 [km]\n```\n:::\n\n```{.r .cell-code}\nunits::set_units(km, \"m\")\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n1000 [m]\n```\n:::\n\n```{.r .cell-code}\nunits::set_units(km, \"cm\")\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n1e+05 [cm]\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nmi <- units::set_units(1, \"mi\")\n\nmi\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n1 [mi]\n```\n:::\n\n```{.r .cell-code}\nunits::set_units(mi, \"ft\")\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n5280 [ft]\n```\n:::\n:::\n\n\n# Spatial transformations\n\nsingle feature operations\n\n-   buffer\n-   centroid\n\n\n::: {.cell}\n\n```{.r .cell-code}\nusa_buffer <- sf::st_buffer(World[169,], units::as_units(100, \"mi\"))  \n\nusa_centroid <- sf::st_centroid(World[169,])\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning in st_centroid.sf(World[169, ]): st_centroid assumes attributes are\nconstant over geometries of x\n```\n:::\n\n```{.r .cell-code}\ntm_shape(World,\n          bbox = usa,\n         projection = \"ESRI:102008\") +\n  tm_borders() +\n  tm_shape(usa) +\n  tm_fill(\"red\", 0.25) +\n  tm_shape(usa_centroid) +\n  tm_symbols()\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in as.list.environment(environment()): object 'usa' not found\n```\n:::\n:::\n\n\noverlay or multifeature operations\n\n-   geometric intersection of the polygon areas in each map.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nrast_balt <- terra::rast(\"/Users/elipousson/Downloads/MD_Baltimore_19371_rectified/MD_Baltimore_19371.tif\")\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: /Users/elipousson/Downloads/MD_Baltimore_19371_rectified/\nMD_Baltimore_19371.tif: No such file or directory (GDAL error 4)\n```\n:::\n\n::: {.cell-output .cell-output-error}\n```\nError: [rast] cannot open file: /Users/elipousson/Downloads/MD_Baltimore_19371_rectified/MD_Baltimore_19371.tif\n```\n:::\n\n```{.r .cell-code}\ntm_shape(rast_balt) +\n  tm_rgb() +\n  tm_shape(mapbaltimore::baltimore_city) +\n  tm_borders()\n```\n\n::: {.cell-output .cell-output-error}\n```\nError in as.list.environment(environment()): object 'rast_balt' not found\n```\n:::\n:::\n",
    "supporting": [
      "02_accessing-data_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}